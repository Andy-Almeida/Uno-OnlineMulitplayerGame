<html lang="en">
  <head>
    <title><%= title %></title>
    <script src="/scripts/index.js" defer></script>
    <link rel="stylesheet" href="/stylesheets/home.css" />
  </head>
  <body>
    <h1>
      Lobby Page (Authenticated) - Hi <%= user.username %> (<%= user.id %>)
    </h1>

    <!-- Nav Bar -->
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/authentication/login">Login</a></li>
      <li><a href="/authentication/logout">Logout</a></li>
      <li><a href="/authentication/register">Sign Up</a></li>
      <li><a href="/lobby">Lobby</a></li>
      <li><a href="/games">UNO</a></li>
    </ul>

    <!-- Game Create Button -->
    <form method="post" action="/games/create">
      <input type="submit" value="Create Game" />
    </form>

    <!-- Game List-->
    <div id="games-list">
      <h2>Game List</h2>

      <!-- Available Games -->
      Available Games (Not Joined, Not Started) <br>
      <% if(availableGames.length > 0) { %>
        <% for(game of availableGames) { %>
          <a href="/games/<%= game.id %>/join">Join <%= game.id %></a>
        <% }%>
      <% } %>
      <% if( availableGames.length < 1 ) { %>
      No Games are Available to Join, instead create one
      <% } %>
      <br><br>

      <!-- Rejoinable Games -->
      ReJoin Games (Joined, Not Started) <br>
      <% if(reJoinGames.length > 0) { %>
        <% for(game of reJoinGames) { %>
          <a href="/games/<%= game.id %>/join">Join <%= game.id %></a>
        <% }%>
      <% } %>
      <% if( reJoinGames.length < 1 ) { %>
      No Games are Available to Join, instead create one
      <% } %>
      <br><br>

      <!-- Running Games -->
      Running Games (Joined, Started) <br>
      <% if(runningGames.length > 0) { %>
        <% for(game of runningGames) { %>
          <a href="/games/<%= game.id %>/join">Join <%= game.id %></a>
        <% }%>
      <% } %>
      <% if( runningGames.length < 1 ) { %>
      No Games are Available to Join, instead create one
      <% } %>
      <br><br>
    </div>

    <!-- Chat Area -->
    <div id="chat">Chat area</div>
    <!-- Chat Box -->
    <div id="chat-container">
      <div id="messages"></div>
      <label>
        <input id="chatMessage" name="chat-message" placeholder="Message..." />
      </label>
    </div>

    <!-- Chat Message -->
    <template id="chat-message-template">
      <div>
        <span class="username"></span>
        <span class="message"></span>
        <span class="timestamp"></span>
      </div>
    </template>

  </body>
</html>